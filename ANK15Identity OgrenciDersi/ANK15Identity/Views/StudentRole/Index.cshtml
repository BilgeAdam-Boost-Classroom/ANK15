@using ANK15Identity.Areas.Identity.Data
@using Microsoft.AspNetCore.Identity
@model List<ANK15IdentityUser>
@inject UserManager<ANK15IdentityUser> _userManager

<table class="table table-hover">
    <tr>
        <td>Ad</td>
        <td>Soyad</td>
        <td>E-Posta</td>
        <td>Ekleme İşlemi</td>
        <td>Çıkarma İşlemi</td>
    </tr>

    @{
        foreach (var item in Model)
        {
            <tr>
                <td>
                    @item.Name
                </td>
                <td>
                    @item.SurName
                </td>
                <td>
                    @item.UserName
                </td>
                @{
                    var kisininRolleri = await _userManager.GetRolesAsync(item);
                    bool ogrenciRoluVarMi = kisininRolleri.Any(r => r == "Student");


                    if(ogrenciRoluVarMi)
                    {
                        <td>
                        </td>
                        <td>
                            <a asp-route-id="@item.Id" asp-action="Sil" class="btn btn-danger">Öğrenci Rolü Sil </a>
                        </td>
                       
                    }
                    else
                    {
                      
                        <td>
                            <a asp-route-id="@item.Id" asp-action="Ekle" class="btn btn-success">Öğrenci Rolü Ekle </a>
                        </td>
                        <td>
                        </td>
                    }
                }
               
             

            </tr>
        }
    }

</table>